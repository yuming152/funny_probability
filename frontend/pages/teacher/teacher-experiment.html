<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>概率实验管理 - 教师端</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E40AF', // 蓝色 - 学术严谨
                        secondary: '#F97316', // 橙色 - 互动活力
                        accent: '#3B82F6',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                        light: '#F3F4F6',
                        dark: '#1F2937'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .transition-all-300 {
                transition: all 300ms ease-in-out;
            }
            .shadow-card {
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            }
            .bg-gradient-primary {
                background: linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%);
            }
            .sidebar-active {
                background-color: rgba(30, 64, 175, 0.1);
                color: #1E40AF;
                font-weight: 500;
            }
            .experiment-card-hover {
                transition: all 0.3s ease;
            }
            .experiment-card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-md z-10">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center">
                    <i class="fa fa-line-chart text-white text-xl"></i>
                </div>
                <h1 class="text-2xl font-bold text-primary">邮数工坊 - 教师端</h1>
            </div>
            <div class="flex items-center space-x-6">
                <div class="relative">
                    <button id="ai-assistant-btn" class="flex items-center space-x-2 px-4 py-2 bg-blue-50 text-primary rounded-lg hover:bg-blue-100 transition-all-300">
                        <i class="fa fa-robot"></i>
                        <span>AI备课助手</span>
                    </button>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <button class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-all-300">
                            <i class="fa fa-bell text-gray-600"></i>
                            <span class="absolute top-0 right-0 w-2 h-2 bg-danger rounded-full"></span>
                        </button>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                            <span class="text-primary font-medium">张</span>
                        </div>
                        <div>
                            <div class="text-gray-700 font-medium">张老师</div>
                            <div class="text-xs text-gray-500">管理员 | 全部权限</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <div class="flex h-[calc(100vh-73px)]">
        <!-- 左侧功能菜单 -->
        <aside class="w-64 bg-white shadow-md p-4 flex flex-col">
            <nav class="space-y-1">
                <a href="teacher.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-dashboard w-5 text-center"></i>
                    <span>教学决策中枢</span>
                </a>
                <a href="teacher-experiment.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg sidebar-active">
                    <i class="fa fa-flask w-5 text-center"></i>
                    <span>概率实验管理</span>
                </a>
                <a href="teacher-report.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-bar-chart w-5 text-center"></i>
                    <span>学情分析报告</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-file-text w-5 text-center"></i>
                    <span>作业与小测</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-users w-5 text-center"></i>
                    <span>班级管理</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-book w-5 text-center"></i>
                    <span>知识库</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-all-300">
                    <i class="fa fa-cog w-5 text-center"></i>
                    <span>设置</span>
                </a>
            </nav>
            <div class="mt-auto pt-4 border-t border-gray-200">
                <div class="p-4 bg-blue-50 rounded-lg">
                    <h4 class="font-medium text-primary mb-2">使用提示</h4>
                    <p class="text-sm text-gray-600">点击实验卡片可预览实验流程，一键发起实验。</p>
                </div>
            </div>
        </aside>

        <!-- 中间内容区 -->
        <main class="flex-1 overflow-y-auto p-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">概率实验管理</h2>
                <p class="text-gray-600">管理和监控概率论与数理统计相关实验。</p>
            </div>

            <!-- 实验库可视化筛选 -->
            <div class="mb-8">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-800">实验库</h3>
                    <button id="create-experiment-btn" class="px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300 flex items-center space-x-2">
                        <i class="fa fa-plus"></i>
                        <span>创建新实验</span>
                    </button>
                </div>
                
                <!-- 实验分类筛选 -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                        全部实验
                    </button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all-300">
                        基础型
                    </button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all-300">
                        进阶型
                    </button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all-300">
                        创新型
                    </button>
                </div>

                <!-- 实验卡片网格 -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- 基础型实验：连续抛硬币实验 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-blue-50 flex items-center justify-center">
                            <i class="fa fa-dice text-primary text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">连续抛硬币实验</h4>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">基础型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">探索频率与概率的关系，通过多次抛硬币实验验证大数定律</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>古典概型</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>20分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 基础型实验：掷骰子实验 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-green-50 flex items-center justify-center">
                            <i class="fa fa-gamepad text-green-600 text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">掷骰子实验</h4>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">基础型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">通过掷骰子实验验证古典概型的概率计算方法</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>古典概型</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>15分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 进阶型实验：正态分布模拟实验 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-purple-50 flex items-center justify-center">
                            <i class="fa fa-area-chart text-purple-600 text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">正态分布模拟实验</h4>
                                <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">进阶型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">通过模拟生成正态分布数据，验证中心极限定理</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>正态分布</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>25分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 进阶型实验：贝叶斯实验 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-yellow-50 flex items-center justify-center">
                            <i class="fa fa-calculator text-yellow-600 text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">贝叶斯实验</h4>
                                <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">进阶型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">通过实际案例学习贝叶斯定理的应用</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>贝叶斯定理</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>30分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 创新型实验：股票价格模拟 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-red-50 flex items-center justify-center">
                            <i class="fa fa-line-chart text-red-600 text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">股票价格模拟</h4>
                                <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">创新型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">使用随机游走模型模拟股票价格变动，应用概率统计知识分析风险</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>随机过程</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>35分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 创新型实验：网络传播模拟 -->
                    <div class="bg-white rounded-xl shadow-card overflow-hidden experiment-card-hover" loading="lazy">
                        <div class="h-40 bg-indigo-50 flex items-center justify-center">
                            <i class="fa fa-share-alt text-indigo-600 text-6xl"></i>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-800">网络传播模拟</h4>
                                <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">创新型</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4">模拟信息在网络中的传播过程，应用概率模型分析传播规律</p>
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <div class="flex items-center mr-4">
                                    <i class="fa fa-book mr-2"></i>
                                    <span>概率模型</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fa fa-clock-o mr-2"></i>
                                    <span>40分钟</span>
                                </div>
                            </div>
                            <div class="flex space-x-2 mb-3">
                                <button class="flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                                    预览实验
                                </button>
                                <button class="flex-1 px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300">
                                    发起实验
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-play mr-1"></i> 开始
                                </button>
                                <button class="flex-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-all-300 text-sm">
                                    <i class="fa fa-pause mr-1"></i> 暂停
                                </button>
                                <button class="flex-1 px-3 py-1 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-all-300 text-sm">
                                    <i class="fa fa-stop mr-1"></i> 结束
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 实时监控操作台 -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-800 mb-4">实时监控操作台</h3>
                <div class="bg-white rounded-xl shadow-card overflow-hidden">
                    <div class="p-4 border-b border-gray-200">
                        <div class="flex justify-between items-center">
                            <h4 class="text-lg font-bold text-gray-800">连续抛硬币实验 - 实时监控</h4>
                            <div class="flex items-center space-x-2">
                                <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">进行中</span>
                                <button class="px-4 py-2 bg-danger text-white rounded-lg hover:bg-red-700 transition-all-300">
                                    结束实验
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="flex h-[500px]">
                        <!-- 左侧学生组队情况 -->
                        <div class="w-1/3 border-r border-gray-200 p-4 overflow-y-auto">
                            <h5 class="font-bold text-gray-800 mb-4">学生组队情况</h5>
                            
                            <!-- 小组1 -->
                            <div class="bg-blue-50 rounded-lg p-3 mb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h6 class="font-medium text-primary">小组 1</h6>
                                    <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">进行中</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2">
                                                <span class="text-primary font-medium">李</span>
                                            </div>
                                            <span class="text-sm font-medium">李明</span>
                                        </div>
                                        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">组长</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center mr-2">
                                                <span class="text-pink-600 font-medium">王</span>
                                            </div>
                                            <span class="text-sm font-medium">王芳</span>
                                        </div>
                                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">数据记录员</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
                                                <span class="text-purple-600 font-medium">赵</span>
                                            </div>
                                            <span class="text-sm font-medium">赵伟</span>
                                        </div>
                                        <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">分析员</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 小组2 -->
                            <div class="bg-green-50 rounded-lg p-3 mb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h6 class="font-medium text-green-600">小组 2</h6>
                                    <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">进行中</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-2">
                                                <span class="text-green-600 font-medium">张</span>
                                            </div>
                                            <span class="text-sm font-medium">张伟</span>
                                        </div>
                                        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">组长</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mr-2">
                                                <span class="text-yellow-600 font-medium">刘</span>
                                            </div>
                                            <span class="text-sm font-medium">刘伟</span>
                                        </div>
                                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">数据记录员</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mr-2">
                                                <span class="text-red-600 font-medium">陈</span>
                                            </div>
                                            <span class="text-sm font-medium">陈静</span>
                                        </div>
                                        <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">分析员</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 小组3 -->
                            <div class="bg-yellow-50 rounded-lg p-3">
                                <div class="flex justify-between items-center mb-2">
                                    <h6 class="font-medium text-yellow-600">小组 3</h6>
                                    <span class="px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full">待开始</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-2">
                                                <span class="text-purple-600 font-medium">周</span>
                                            </div>
                                            <span class="text-sm font-medium">周强</span>
                                        </div>
                                        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">组长</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center mr-2">
                                                <span class="text-indigo-600 font-medium">吴</span>
                                            </div>
                                            <span class="text-sm font-medium">吴敏</span>
                                        </div>
                                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">数据记录员</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-white rounded-lg">
                                        <div class="flex items-center">
                                            <div class="w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center mr-2">
                                                <span class="text-pink-600 font-medium">孙</span>
                                            </div>
                                            <span class="text-sm font-medium">孙丽</span>
                                        </div>
                                        <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">分析员</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 右侧实验数据 -->
                        <div class="w-2/3 p-4 overflow-y-auto">
                            <h5 class="font-bold text-gray-800 mb-4">实验数据实时更新</h5>
                            
                            <!-- 实验进度概览 -->
                            <div class="grid grid-cols-3 gap-4 mb-6">
                                <div class="bg-blue-50 rounded-lg p-3 text-center">
                                    <div class="text-3xl font-bold text-primary mb-1">3</div>
                                    <div class="text-sm text-gray-600">已完成小组</div>
                                </div>
                                <div class="bg-green-50 rounded-lg p-3 text-center">
                                    <div class="text-3xl font-bold text-success mb-1">1200</div>
                                    <div class="text-sm text-gray-600">总抛硬币次数</div>
                                </div>
                                <div class="bg-orange-50 rounded-lg p-3 text-center">
                                    <div class="text-3xl font-bold text-secondary mb-1">52%</div>
                                    <div class="text-sm text-gray-600">正面朝上频率</div>
                                </div>
                            </div>

                            <!-- 频率分布图表 -->
                            <div class="mb-6" id="chart-container">
                                <h6 class="font-medium text-gray-800 mb-3">频率分布折线图</h6>
                                <div class="h-64">
                                    <canvas id="frequency-chart"></canvas>
                                </div>
                            </div>

                            <!-- 实验数据表格 -->
                            <div>
                                <h6 class="font-medium text-gray-800 mb-3">小组实验数据</h6>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">小组</th>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">抛硬币次数</th>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">正面次数</th>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">正面频率</th>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                                                <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-gray-900">小组 1</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">500</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">265</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-warning">53%</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        已完成
                                                    </span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                                    <button class="text-primary hover:text-secondary transition-all-300">查看详情</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-gray-900">小组 2</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">400</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">205</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-success">51.25%</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        已完成
                                                    </span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                                    <button class="text-primary hover:text-secondary transition-all-300">查看详情</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-gray-900">小组 3</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">300</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm text-gray-900">150</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="text-sm font-medium text-success">50%</span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        已完成
                                                    </span>
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                                    <button class="text-primary hover:text-secondary transition-all-300">查看详情</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 历史实验数据查询与导出 -->
            <div>
                <h3 class="text-lg font-bold text-gray-800 mb-4">历史实验数据</h3>
                <div class="bg-white rounded-xl shadow-card overflow-hidden">
                    <div class="p-4 border-b border-gray-200">
                        <div class="flex flex-wrap justify-between items-center gap-4">
                            <h4 class="text-lg font-bold text-gray-800">历史实验记录</h4>
                            <div class="flex flex-wrap gap-2">
                                <div class="relative">
                                    <input type="text" placeholder="搜索实验名称" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary pr-10">
                                    <i class="fa fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                </div>
                                <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                                    <option value="all">所有类型</option>
                                    <option value="basic">基础型</option>
                                    <option value="advanced">进阶型</option>
                                    <option value="innovative">创新型</option>
                                </select>
                                <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                                    <option value="all">所有状态</option>
                                    <option value="completed">已完成</option>
                                    <option value="paused">已暂停</option>
                                    <option value="running">进行中</option>
                                </select>
                                <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300 flex items-center space-x-1">
                                    <i class="fa fa-filter"></i>
                                    <span>筛选</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <!-- 导出按钮 -->
                        <div class="flex justify-end mb-4">
                            <button class="px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300 flex items-center space-x-1 mr-2">
                                <i class="fa fa-download"></i>
                                <span>导出CSV</span>
                            </button>
                            <button class="px-4 py-2 bg-secondary text-white rounded-lg hover:bg-orange-600 transition-all-300 flex items-center space-x-1">
                                <i class="fa fa-download"></i>
                                <span>导出Excel</span>
                            </button>
                        </div>
                        
                        <!-- 历史实验数据表格 -->
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">实验名称</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">类型</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">负责人</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">开始时间</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">结束时间</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm font-medium text-gray-900">连续抛硬币实验</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
                                                基础型
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">张老师</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-15 09:00</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-15 09:30</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                已完成
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                            <button class="text-primary hover:text-secondary transition-all-300 mr-3">查看详情</button>
                                            <button class="text-success hover:text-green-700 transition-all-300">导出数据</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm font-medium text-gray-900">掷骰子实验</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
                                                基础型
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">李老师</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-14 14:00</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-14 14:20</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                已完成
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                            <button class="text-primary hover:text-secondary transition-all-300 mr-3">查看详情</button>
                                            <button class="text-success hover:text-green-700 transition-all-300">导出数据</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm font-medium text-gray-900">正态分布模拟实验</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800">
                                                进阶型
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">王老师</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-13 10:00</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-13 10:30</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                已完成
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                            <button class="text-primary hover:text-secondary transition-all-300 mr-3">查看详情</button>
                                            <button class="text-success hover:text-green-700 transition-all-300">导出数据</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm font-medium text-gray-900">贝叶斯实验</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800">
                                                进阶型
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">张老师</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-12 15:00</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="text-sm text-gray-900">2024-01-12 15:40</span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                已完成
                                            </span>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">
                                            <button class="text-primary hover:text-secondary transition-all-300 mr-3">查看详情</button>
                                            <button class="text-success hover:text-green-700 transition-all-300">导出数据</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div class="flex justify-between items-center mt-4">
                            <div class="text-sm text-gray-600">
                                显示 1 至 4 条，共 12 条
                            </div>
                            <div class="flex space-x-1">
                                <button class="px-3 py-1 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                    <i class="fa fa-chevron-left"></i>
                                </button>
                                <button class="px-3 py-1 border border-primary bg-primary text-white rounded-lg">1</button>
                                <button class="px-3 py-1 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50">2</button>
                                <button class="px-3 py-1 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50">3</button>
                                <button class="px-3 py-1 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50">
                                    <i class="fa fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 频率分布图表 - 延迟加载
        document.addEventListener('DOMContentLoaded', function() {
            // 使用Intersection Observer实现图表的懒加载
            const chartContainer = document.getElementById('chart-container');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // 图表进入视口，开始加载
                        const ctx = document.getElementById('frequency-chart').getContext('2d');
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: ['100', '200', '300', '400', '500', '600', '700', '800', '900', '1000', '1100', '1200'],
                                datasets: [
                                    {
                                        label: '正面频率',
                                        data: [0.52, 0.48, 0.51, 0.53, 0.52, 0.51, 0.52, 0.525, 0.523, 0.521, 0.52, 0.52],
                                        borderColor: '#1E40AF',
                                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                                        tension: 0.3,
                                        fill: true
                                    },
                                    {
                                        label: '理论概率',
                                        data: [0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5],
                                        borderColor: '#EF4444',
                                        borderDash: [5, 5],
                                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                        tension: 0.1,
                                        fill: false
                                    }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        position: 'top',
                                    },
                                    tooltip: {
                                        mode: 'index',
                                        intersect: false,
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: false,
                                        min: 0.4,
                                        max: 0.6,
                                        ticks: {
                                            callback: function(value) {
                                                return value * 100 + '%';
                                            }
                                        }
                                    },
                                    x: {
                                        title: {
                                            display: true,
                                            text: '抛硬币次数'
                                        }
                                    }
                                }
                            }
                        });
                        
                        // 停止观察
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            // 开始观察图表容器
            if (chartContainer) {
                observer.observe(chartContainer);
            }
        });
    </script>

    <!-- 实验创建模态框 -->
    <div id="create-experiment-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">创建新实验</h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-6">
                <form id="create-experiment-form">
                    <!-- 实验基本信息 -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">实验基本信息</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="experiment-name" class="block text-sm font-medium text-gray-700 mb-1">实验名称</label>
                                <input type="text" id="experiment-name" name="experiment-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                            <div>
                                <label for="experiment-type" class="block text-sm font-medium text-gray-700 mb-1">实验类型</label>
                                <select id="experiment-type" name="experiment-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                                    <option value="basic">基础型</option>
                                    <option value="advanced">进阶型</option>
                                    <option value="innovative">创新型</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label for="experiment-description" class="block text-sm font-medium text-gray-700 mb-1">实验描述</label>
                                <textarea id="experiment-description" name="experiment-description" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required></textarea>
                            </div>
                            <div>
                                <label for="experiment-leader" class="block text-sm font-medium text-gray-700 mb-1">负责人</label>
                                <input type="text" id="experiment-leader" name="experiment-leader" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                            <div>
                                <label for="experiment-duration" class="block text-sm font-medium text-gray-700 mb-1">预计时长（分钟）</label>
                                <input type="number" id="experiment-duration" name="experiment-duration" min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                        </div>
                    </div>

                    <!-- 概率参数配置 -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">概率参数配置</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="sample-space" class="block text-sm font-medium text-gray-700 mb-1">样本空间定义</label>
                                <input type="text" id="sample-space" name="sample-space" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" placeholder="例如：{正面, 反面}" required>
                            </div>
                            <div>
                                <label for="experiment-count" class="block text-sm font-medium text-gray-700 mb-1">实验次数</label>
                                <input type="number" id="experiment-count" name="experiment-count" min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                            <div class="md:col-span-2">
                                <label for="event-probability" class="block text-sm font-medium text-gray-700 mb-1">事件概率设置</label>
                                <textarea id="event-probability" name="event-probability" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" placeholder="例如：正面: 0.5, 反面: 0.5"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- 实验执行设置 -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-4">实验执行设置</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="team-size" class="block text-sm font-medium text-gray-700 mb-1">小组人数</label>
                                <input type="number" id="team-size" name="team-size" min="1" max="10" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                            <div>
                                <label for="experiment-status" class="block text-sm font-medium text-gray-700 mb-1">初始状态</label>
                                <select id="experiment-status" name="experiment-status" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                                    <option value="pending">待开始</option>
                                    <option value="running">进行中</option>
                                    <option value="paused">已暂停</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- 提交按钮 -->
                    <div class="flex justify-end space-x-4">
                        <button type="button" id="cancel-create-btn" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all-300">
                            取消
                        </button>
                        <button type="submit" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition-all-300">
                            创建实验
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // 权限控制逻辑
        const currentUser = {
            name: '张老师',
            role: 'admin', // admin, teacher, assistant
            permissions: {
                createExperiment: true,
                modifyExperiment: true,
                deleteExperiment: true,
                exportData: true,
                manageTeams: true
            }
        };

        // 消息提示系统
        function showMessage(message, type = 'info') {
            // 创建提示元素
            const messageElement = document.createElement('div');
            messageElement.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-y-0 opacity-100`;
            
            // 根据类型设置样式
            switch (type) {
                case 'success':
                    messageElement.classList.add('bg-success', 'text-white');
                    break;
                case 'error':
                    messageElement.classList.add('bg-danger', 'text-white');
                    break;
                case 'warning':
                    messageElement.classList.add('bg-warning', 'text-white');
                    break;
                default:
                    messageElement.classList.add('bg-primary', 'text-white');
            }
            
            // 设置消息内容
            messageElement.textContent = message;
            
            // 添加到页面
            document.body.appendChild(messageElement);
            
            // 3秒后自动消失
            setTimeout(() => {
                messageElement.classList.add('translate-y-[-20px]', 'opacity-0');
                setTimeout(() => {
                    document.body.removeChild(messageElement);
                }, 300);
            }, 3000);
        }

        // 加载状态管理
        function showLoading() {
            // 检查是否已存在加载元素
            if (document.getElementById('loading-indicator')) {
                return;
            }
            
            const loadingElement = document.createElement('div');
            loadingElement.id = 'loading-indicator';
            loadingElement.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            loadingElement.innerHTML = `
                <div class="bg-white rounded-lg p-6 flex flex-col items-center">
                    <div class="w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"></div>
                    <p class="text-gray-800">处理中...</p>
                </div>
            `;
            
            document.body.appendChild(loadingElement);
        }

        function hideLoading() {
            const loadingElement = document.getElementById('loading-indicator');
            if (loadingElement) {
                document.body.removeChild(loadingElement);
            }
        }

        // 权限检查函数
        function checkPermission(permission) {
            return currentUser.permissions[permission] || false;
        }

        // 初始化权限控制
        function initPermissionControl() {
            // 检查创建实验权限
            const createExperimentBtn = document.getElementById('create-experiment-btn');
            if (createExperimentBtn && !checkPermission('createExperiment')) {
                createExperimentBtn.disabled = true;
                createExperimentBtn.classList.add('opacity-50', 'cursor-not-allowed');
                createExperimentBtn.title = '您没有创建实验的权限';
            }

            // 检查导出数据权限
            const exportButtons = document.querySelectorAll('button:has(.fa-download)');
            exportButtons.forEach(button => {
                if (!checkPermission('exportData')) {
                    button.disabled = true;
                    button.classList.add('opacity-50', 'cursor-not-allowed');
                    button.title = '您没有导出数据的权限';
                }
            });
        }

        // 模态框控制
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化权限控制
            initPermissionControl();

            const createExperimentBtn = document.getElementById('create-experiment-btn');
            const createExperimentModal = document.getElementById('create-experiment-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const cancelCreateBtn = document.getElementById('cancel-create-btn');
            const createExperimentForm = document.getElementById('create-experiment-form');

            // 打开模态框
            createExperimentBtn.addEventListener('click', function() {
                createExperimentModal.classList.remove('hidden');
            });

            // 关闭模态框
            function closeModal() {
                createExperimentModal.classList.add('hidden');
            }

            closeModalBtn.addEventListener('click', closeModal);
            cancelCreateBtn.addEventListener('click', closeModal);

            // 点击模态框外部关闭
            createExperimentModal.addEventListener('click', function(e) {
                if (e.target === createExperimentModal) {
                    closeModal();
                }
            });

            // 数据验证函数
            function validateForm() {
                let isValid = true;
                const errorMessages = [];
                
                // 验证实验名称
                const experimentName = document.getElementById('experiment-name').value;
                if (!experimentName.trim()) {
                    isValid = false;
                    errorMessages.push('实验名称不能为空');
                } else if (experimentName.length > 50) {
                    isValid = false;
                    errorMessages.push('实验名称长度不能超过50个字符');
                }
                
                // 验证实验描述
                const experimentDescription = document.getElementById('experiment-description').value;
                if (!experimentDescription.trim()) {
                    isValid = false;
                    errorMessages.push('实验描述不能为空');
                }
                
                // 验证负责人
                const experimentLeader = document.getElementById('experiment-leader').value;
                if (!experimentLeader.trim()) {
                    isValid = false;
                    errorMessages.push('负责人不能为空');
                }
                
                // 验证预计时长
                const experimentDuration = document.getElementById('experiment-duration').value;
                if (!experimentDuration || parseInt(experimentDuration) <= 0) {
                    isValid = false;
                    errorMessages.push('预计时长必须是正整数');
                }
                
                // 验证样本空间
                const sampleSpace = document.getElementById('sample-space').value;
                if (!sampleSpace.trim()) {
                    isValid = false;
                    errorMessages.push('样本空间定义不能为空');
                }
                
                // 验证实验次数
                const experimentCount = document.getElementById('experiment-count').value;
                if (!experimentCount || parseInt(experimentCount) <= 0) {
                    isValid = false;
                    errorMessages.push('实验次数必须是正整数');
                }
                
                // 验证小组人数
                const teamSize = document.getElementById('team-size').value;
                if (!teamSize || parseInt(teamSize) <= 0 || parseInt(teamSize) > 10) {
                    isValid = false;
                    errorMessages.push('小组人数必须是1-10之间的整数');
                }
                
                // 验证事件概率设置（如果有输入）
                const eventProbability = document.getElementById('event-probability').value;
                if (eventProbability.trim()) {
                    try {
                        // 简单验证格式
                        const probabilityPairs = eventProbability.split(',').map(pair => pair.trim());
                        let totalProbability = 0;
                        
                        for (const pair of probabilityPairs) {
                            const [event, prob] = pair.split(':').map(item => item.trim());
                            if (!event || !prob) {
                                throw new Error('事件概率格式错误');
                            }
                            const probability = parseFloat(prob);
                            if (isNaN(probability) || probability < 0 || probability > 1) {
                                throw new Error('概率值必须在0-1之间');
                            }
                            totalProbability += probability;
                        }
                        
                        // 检查概率和是否接近1（允许小误差）
                        if (Math.abs(totalProbability - 1) > 0.01) {
                            throw new Error('所有事件的概率和必须为1');
                        }
                    } catch (error) {
                        isValid = false;
                        errorMessages.push(error.message);
                    }
                }
                
                // 显示错误信息
                if (!isValid) {
                    errorMessages.forEach(message => {
                        showMessage(message, 'error');
                    });
                }
                
                return isValid;
            }

            // 表单提交
            createExperimentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // 验证表单
                if (!validateForm()) {
                    return;
                }
                
                // 显示加载状态
                showLoading();
                
                // 模拟表单提交（模拟网络延迟）
                setTimeout(() => {
                    const formData = new FormData(createExperimentForm);
                    console.log('实验创建表单数据:', Object.fromEntries(formData));
                    
                    // 隐藏加载状态
                    hideLoading();
                    
                    // 显示成功提示
                    showMessage('实验创建成功！', 'success');
                    
                    // 关闭模态框并重置表单
                    closeModal();
                    createExperimentForm.reset();
                }, 1000); // 模拟1秒的网络延迟
            });
        });
    </script>
</body>
</html>